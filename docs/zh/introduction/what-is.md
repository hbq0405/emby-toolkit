# 项目概览

Emby Toolkit 是一个围绕 Emby 服务器的增强管理平台，核心目标是补全和规范化媒体元数据，并在此基础上实现自动化运营：演员/角色中文化、合集与订阅维护、智能追剧、封面合成、虚拟库展示等。系统以 Flask Web 服务为中心，结合任务调度、实时文件监控、数据库持久化与外部数据源集成，形成完整的“采集—处理—同步—展示”链路。

## 主要能力

- **元数据增强**：从 TMDb、豆瓣、本地元数据源补全信息，统一演员/角色名称，维护评分与标签。
- **自动化任务**：支持高频/低频任务链，批量处理媒体、合集、订阅与补全逻辑。
- **实时监控**：监控媒体目录新增/变更/删除并触发处理流程。
- **虚拟库与合集**：基于规则构建“自建合集”，通过反向代理提供虚拟视图。
- **智能订阅**：结合 MoviePilot 做缺失季/集订阅、演员订阅与自动补全。
- **封面生成**：针对媒体库或合集生成统一风格封面。

## 运行形态

- **后端服务**：`web_app.py` 启动 Flask + gevent 的 Web 服务与 API。
- **前端 UI**：`emby-actor-ui` 构建后静态资源由后端提供。
- **数据库**：PostgreSQL，数据结构由 `database/connection.py` 初始化。
- **任务系统**：`task_manager.py` + `tasks/` 目录。
- **实时监控**：`monitor_service.py` 依赖 `watchdog`。
- **反向代理**：`reverse_proxy.py` 与 Nginx 配置生成。

## 典型使用场景

- 统一演员/角色中文显示，减少信息缺失。
- 自动将新入库剧集纳入追剧，并补全缺失季。
- 按榜单或规则生成“自建合集”并展示在 Emby 首页。
- 在入库/更新时生成统一风格封面。
